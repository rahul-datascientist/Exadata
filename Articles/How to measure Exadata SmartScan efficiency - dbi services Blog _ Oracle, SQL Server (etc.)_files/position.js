(function(){var e=function(e){var t=this,n=e,r=function(){(function(e,t){function p(e,t,n){return[parseInt(e[0],10)*(c.test(e[0])?t/100:1),parseInt(e[1],10)*(c.test(e[1])?n/100:1)]}function d(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var r,i=Math.max,s=Math.abs,o=Math.round,u=/left|center|right/,a=/top|center|bottom/,f=/[\+\-]\d+%?/,l=/^\w+/,c=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var n,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),n=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,n===i&&(i=s[0].clientWidth),s.remove(),r=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var n,r,c,v,m,g=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=g[0],E=(t.collision||"flip").split(" "),S={};return w.nodeType===9?(r=g.width(),c=g.height(),v={top:0,left:0}):e.isWindow(w)?(r=g.width(),c=g.height(),v={top:g.scrollTop(),left:g.scrollLeft()}):w.preventDefault?(t.at="left top",r=c=0,v={top:w.pageY,left:w.pageX}):(r=g.outerWidth(),c=g.outerHeight(),v=g.offset()),m=e.extend({},v),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=u.test(e[0])?e.concat(["center"]):a.test(e[0])?["center"].concat(e):["center","center"]),e[0]=u.test(e[0])?e[0]:"center",e[1]=a.test(e[1])?e[1]:"center",n=f.exec(e[0]),r=f.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[l.exec(e[0])[0],l.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),t.at[0]==="right"?m.left+=r:t.at[0]==="center"&&(m.left+=r/2),t.at[1]==="bottom"?m.top+=c:t.at[1]==="center"&&(m.top+=c/2),n=p(S.at,r,c),m.left+=n[0],m.top+=n[1],this.each(function(){var u,a,f=e(this),l=f.outerWidth(),h=f.outerHeight(),w=d(this,"marginLeft"),x=d(this,"marginTop"),T=l+w+d(this,"marginRight")+b.width,N=h+x+d(this,"marginBottom")+b.height,C=e.extend({},m),k=p(S.my,f.outerWidth(),f.outerHeight());t.my[0]==="right"?C.left-=l:t.my[0]==="center"&&(C.left-=l/2),t.my[1]==="bottom"?C.top-=h:t.my[1]==="center"&&(C.top-=h/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=o(C.left),C.top=o(C.top)),u={marginLeft:w,marginTop:x},e.each(["left","top"],function(i,s){e.ui.position[E[i]]&&e.ui.position[E[i]][s](C,{targetWidth:r,targetHeight:c,elemWidth:l,elemHeight:h,collisionPosition:u,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:y,elem:f})}),e.fn.bgiframe&&f.bgiframe(),t.using&&(a=function(e){var n=v.left-C.left,o=n+r-l,u=v.top-C.top,a=u+c-h,p={target:{element:g,left:v.left,top:v.top,width:r,height:c},element:{element:f,left:C.left,top:C.top,width:l,height:h},horizontal:o<0?"left":n>0?"right":"center",vertical:a<0?"top":u>0?"bottom":"middle"};r<l&&s(n+o)<r&&(p.horizontal="center"),c<h&&s(u+a)<c&&(p.vertical="middle"),i(s(n),s(o))>i(s(u),s(a))?p.important="horizontal":p.important="vertical",t.using.call(this,e,p)}),f.offset(e.extend(C,{using:a}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=r-o,a=o+t.collisionWidth-s-r,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-r,e.left+=u-f):a>0&&u<=0?e.left=r:u>a?e.left=r+s-t.collisionWidth:e.left=r:u>0?e.left+=u:a>0?e.left-=a:e.left=i(e.left-o,e.left)},top:function(e,t){var n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=r-o,a=o+t.collisionHeight-s-r,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-r,e.top+=u-f):a>0&&u<=0?e.top=r:u>a?e.top=r+s-t.collisionHeight:e.top=r:u>0?e.top+=u:a>0?e.top-=a:e.top=i(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,i=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-i-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-i-r;if(p<0||p<s(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||s(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,i=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-i-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-i-r,e.top+c+h+p>a&&(v<0||v<s(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||s(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return i.length===1&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),s.length===1&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(n)})(n)};r(),t.resolveWith(r)};dispatch("ui/position").containing(e).to("Foundry/2.1 Modules")})();